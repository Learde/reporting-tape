Vue.component("report",{props:["date","id","text"],template:'\n        <div :id="id" class="report">\n            <div class="date">{{ date }}</div>\n            <p class="id">Отчёт #{{ id }}</p>\n            <p class="text" v-html="text"></p>\n            <button\n                class="delete"v-on:click="$emit(\'remove\', $event)">Удалить</button>\n        </div>\n    '});let reportingTape=new Vue({el:"#reporting-tape",data:{reportText:"",reports:[],i:0},methods:{publishReport:function(){this.reports.push({}),this.setDate(),this.convertText(),this.setId(),this.i++,this.reportText=""},setId:function(){for(let t=1;t<=this.reports.length;t++)this.reports[t-1].id=t},deleteReport:function(t){this.deleteFromArray(t),this.setId(),this.i--},deleteFromArray:function(t){let e=t.target.parentNode.getAttribute("id");for(let t=0;t<this.reports.length;t++)if(this.reports[t].id==e){this.reports.splice(t,1);break}},setDate:function(){let t=new Date;this.reports[this.i].date=t.toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",timezone:"UTC"})},convertText:function(){let t=new showdown.Converter;this.reports[this.i].text=t.makeHtml(this.reportText)}}});